// Generated by CoffeeScript 1.6.3
/*
spa.data.coffee
*/


(function() {
  var getSio, initModule, makeSio, stateMap;

  stateMap = {
    sio: null
  };

  makeSio = function() {
    var do_emit, do_on, socket;
    socket = io.connect('/chat');
    do_emit = function(event_name, data) {
      socket.emit(event_name, data);
    };
    do_on = function(event_name, callback) {
      socket.on(event_name, function() {
        callback(arguments);
      });
    };
    return {
      emit: do_emit,
      on: do_on
    };
  };

  getSio = function() {
    if (!stateMap.sio) {
      stateMap.sio = makeSio();
    }
    return stateMap.sio;
  };

  initModule = function() {};

  if (this.spa == null) {
    this.spa = {};
  }

  this.spa.data = {
    getSio: getSio,
    initModule: initModule
  };

}).call(this);
